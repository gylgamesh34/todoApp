import{a as I,b as R,c as p,d as k,e as G,f as T,g as d,h as D,i as L,j as V,k as z}from"./chunk-VQKFDQ45.js";import{$ as N,A as l,C as r,D as m,E as c,G as v,H as C,I as n,J as w,L as S,M as F,R as b,T as y,W as E,_ as M,ba as _,c as f,ca as x,k as u,m as g,v as s,z as h}from"./chunk-FNW33LID.js";var q=e=>({"active-btn":e});function j(e,o){if(e&1&&(r(0,"p"),n(1),m()),e&2){let B=C();s(),w(" ",B.errorMsg,"")}}var $=(()=>{let o=class o{constructor(){this.showError=!1,this.errorMsg="Email ou password incorrect, veuillez vous inscrire",this.ts=u(x),this.router=u(M),this.loginForm=new T({email:new d("",[p.required,p.email]),password:new d("",[p.required])})}onSubmit(){return f(this,null,function*(){let a=this.loginForm.value.email,i=this.loginForm.value.password,t=yield this.ts.loggIn(a);t?.email===a&&t.password===i?(localStorage.setItem("email",a),this.router.navigateByUrl("/todos")):this.showError=!0})}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[S],decls:14,vars:7,consts:[[3,"isRegisterBtnShown"],[1,"form-container",3,"formGroup"],[1,"title"],[1,"sub-title"],["routerLink","/register"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Mot de passe","formControlName","password"],[4,"ngIf"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(i,t){i&1&&(c(0,"app-toolbar",0),r(1,"form",1)(2,"h2",2),n(3,"Connectez-vous"),m(),r(4,"h3",3),n(5," Veuillez entrer votre email "),r(6,"a",4),n(7,"S'inscrire"),m()(),c(8,"br")(9,"input",5)(10,"input",6),h(11,j,2,1,"p",7),r(12,"button",8),v("click",function(){return t.onSubmit()}),n(13," Connexion "),m()()),i&2&&(l("isRegisterBtnShown",!0),s(),l("formGroup",t.loginForm),s(10),l("ngIf",t.showError),s(),l("ngClass",F(5,q,!t.loginForm.invalid))("disabled",t.loginForm.invalid))},dependencies:[E,b,y,I,z,D,R,k,G,L,V,_,N],styles:["p[_ngcontent-%COMP%]{color:red}"]});let e=o;return e})();export{$ as default};
