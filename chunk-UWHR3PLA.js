import{a as B,b as R,c as p,d as k,e as I,f as G,g as d,h as T,i as D,j as V,k as z}from"./chunk-YAVEQTXU.js";import{$ as x,C as h,D as l,F as r,G as m,H as c,J as v,K as w,L as n,M as C,P as S,Q as b,V as F,X as y,_ as E,c as f,da as M,ea as N,ga as L,ha as _,m as u,o as g,y as a}from"./chunk-3UAJD7XU.js";var j=e=>({"active-btn":e});function A(e,o){if(e&1&&(r(0,"p"),n(1),m()),e&2){let q=w();a(),C(q.errorMsg)}}var te=(()=>{let o=class o{constructor(){this.showError=!1,this.errorMsg="Email ou mot de passe incorrect, veuillez vous inscrire",this.ts=u(_),this.router=u(M),this.loginForm=new G({email:new d("",[p.required,p.email]),password:new d("",[p.required])})}onSubmit(){return f(this,null,function*(){let s=this.loginForm.value.email,i=this.loginForm.value.password;this.ts.loggIn(s).subscribe({next:t=>{t?.email===s&&t.password===i?(localStorage.setItem("email",s),this.router.navigateByUrl("/todos")):this.showError=!0},error:()=>{this.showError=!0}})})}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[S],decls:14,vars:9,consts:[[3,"isRegisterBtnShown","isLoginBtnShown","isLogoutBtnShown"],[1,"form-container",3,"formGroup"],[1,"title"],[1,"sub-title"],["routerLink","/register"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Mot de passe","formControlName","password"],[4,"ngIf"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(i,t){i&1&&(c(0,"app-toolbar",0),r(1,"form",1)(2,"h2",2),n(3,"Connectez-vous \xE0 Rikudo"),m(),r(4,"h3",3),n(5," Veuillez entrer votre email "),r(6,"a",4),n(7,"S'inscrire"),m()(),c(8,"br")(9,"input",5)(10,"input",6),h(11,A,2,1,"p",7),r(12,"button",8),v("click",function(){return t.onSubmit()}),n(13," Connexion "),m()()),i&2&&(l("isRegisterBtnShown",!0)("isLoginBtnShown",!1)("isLogoutBtnShown",!1),a(),l("formGroup",t.loginForm),a(10),l("ngIf",t.showError),a(),l("ngClass",b(7,j,!t.loginForm.invalid))("disabled",t.loginForm.invalid))},dependencies:[E,F,y,B,z,T,R,k,I,D,V,L,N,x]});let e=o;return e})();export{te as default};
