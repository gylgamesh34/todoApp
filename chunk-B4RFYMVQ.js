import{a as k,b as E,c as m,d as N,e as L,f as B,g as u,h as R,i as I,j as T,k as z}from"./chunk-3Z757QVU.js";import{$ as y,A as l,C as r,D as c,E as d,G as h,H as x,I as i,J as C,M as w,N as v,S as M,U as _,X as S,aa as F,c as g,ca as O,da as P,k as p,m as f,v as s,z as b}from"./chunk-QKPAUTCR.js";var D=o=>({"active-btn":o});function V(o,e){if(o&1&&(r(0,"p"),i(1),c()),o&2){let G=x();s(),C(G.errorMsg)}}var $=(()=>{let e=class e{constructor(){this.showError=!1,this.errorMsg="Email ou mot de passe incorrect, veuillez vous inscrire",this.ts=p(P),this.router=p(y),this.loginForm=new B({email:new u("",[m.required,m.email]),password:new u("",[m.required])})}onSubmit(){return g(this,null,function*(){let a=this.loginForm.value.email,n=this.loginForm.value.password,t=yield this.ts.loggIn(a);t?.email===a&&t.password===n?(localStorage.setItem("email",a),this.router.navigateByUrl("/todos")):this.showError=!0})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=f({type:e,selectors:[["app-login"]],standalone:!0,features:[w],decls:14,vars:9,consts:[[3,"isRegisterBtnShown","isLoginBtnShown","isLogoutBtnShown"],[1,"form-container",3,"formGroup"],[1,"title"],[1,"sub-title"],["routerLink","/register"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Mot de passe","formControlName","password"],[4,"ngIf"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(n,t){n&1&&(d(0,"app-toolbar",0),r(1,"form",1)(2,"h2",2),i(3,"Connectez-vous \xE0 Rikudo"),c(),r(4,"h3",3),i(5," Veuillez entrer votre email "),r(6,"a",4),i(7,"S'inscrire"),c()(),d(8,"br")(9,"input",5)(10,"input",6),b(11,V,2,1,"p",7),r(12,"button",8),h("click",function(){return t.onSubmit()}),i(13," Connexion "),c()()),n&2&&(l("isRegisterBtnShown",!0)("isLoginBtnShown",!1)("isLogoutBtnShown",!1),s(),l("formGroup",t.loginForm),s(10),l("ngIf",t.showError),s(),l("ngClass",v(7,D,!t.loginForm.invalid))("disabled",t.loginForm.invalid))},dependencies:[S,M,_,k,z,R,E,N,L,I,T,O,F],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif;background-color:#e0e7ff}.form-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:30px;background-color:#fff;border-radius:10px;box-shadow:0 4px 6px #0000001a}.title[_ngcontent-%COMP%]{color:#1e3c72;text-align:center;margin-bottom:10px}.sub-title[_ngcontent-%COMP%]{color:#2a5298;text-align:center;margin-bottom:20px}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border-color .3s}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#1e3c72;outline:none}.auth-btn[_ngcontent-%COMP%]{width:100%;background-color:#e74c3c;color:#fff;padding:14px 20px;margin-top:20px;border:none;border-radius:4px;font-size:1.1em;cursor:pointer;transition:background-color .3s,transform .3s}.auth-btn[_ngcontent-%COMP%]:hover{background-color:#c0392b;transform:scale(1.02)}.auth-btn[_ngcontent-%COMP%]:disabled{background-color:#bdc3c7;cursor:not-allowed}a[_ngcontent-%COMP%]{color:#e74c3c;text-decoration:none;font-weight:700}a[_ngcontent-%COMP%]:hover{text-decoration:underline}p[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px}']});let o=e;return o})();export{$ as default};
