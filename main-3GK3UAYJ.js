import{A as l,Ba as R,D as u,Da as k,Ea as F,Fa as a,X as d,ca as f,da as h,ra as v,sa as c,ta as g,ua as A,va as n,wa as C,xa as T,y as r,ya as S,za as p}from"./chunk-H52FMC3H.js";var I=(t,i)=>{let e=r(a),o=r(p);return e.isAuthenticated()?!0:(o.navigate(["/login"]),!1)};var s=(t,i)=>{let e=r(a),o=r(p);return e.isAuthenticated()?(o.navigate(["/todos"]),!1):!0};var w=[{path:"login",title:"Login | TodoApp",canActivate:[s],loadComponent:()=>import("./chunk-ABX7YPOM.js")},{path:"register",title:"Register | TodoApp",canActivate:[s],loadComponent:()=>import("./chunk-CVUEL7FF.js")},{path:"todos",title:"Todos | TodoApp",canActivate:[I],loadComponent:()=>import("./chunk-J3S24WFN.js")},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"todos",pathMatch:"full"}];var m=(t,i)=>{let e=localStorage.getItem("token");if(e){let o=t.clone({setHeaders:{Authorization:`Bearer ${e}`}});return i(o)}return i(t)};function H(){return{tokenGetter:()=>localStorage.getItem("token"),allowedDomains:["localhost:4200","https://backend.osc-fr1.scalingo.io/","localhost:4000"],disallowedRoutes:["localhost:4200/login","localhost:4200/register"]}}var x={providers:[R(w),T(),c(g([m])),c(A()),F,{provide:k,useFactory:H},u(n)]};var y=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=l({type:t,selectors:[["app-root"]],standalone:!0,features:[f([{provide:v,useFactory:m,multi:!0}]),h],decls:1,vars:0,template:function(o,M){o&1&&d(0,"router-outlet")},dependencies:[S,n],encapsulation:2})}}return t})();C(y,x).catch(t=>console.error(t));
