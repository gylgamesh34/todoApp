import{a as N,b as D,c as V,d as B,e as E,f as L,g as w,h as $,i as A,j as G,k as j}from"./chunk-3Z757QVU.js";import{A as r,C as d,D as c,E as h,F as M,G as f,H as y,I as l,K as b,M as m,N as C,O as S,P as O,S as _,T as P,V as k,X as u,da as v,k as g,m as p,q as T,r as x,v as s,z as F}from"./chunk-QKPAUTCR.js";var z=e=>({"active-btn":e}),U=(()=>{let t=class t{constructor(){this.ts=g(v),this.addTodoForm=new L({title:new w("",V.required),description:new w("")})}onSubmit(){let n={title:this.addTodoForm.value.title,description:this.addTodoForm.value.description,done:!1,userEmail:localStorage.getItem("email")};this.ts.newTodo(n),this.addTodoForm.reset()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=p({type:t,selectors:[["app-add-todo"]],standalone:!0,features:[m],decls:5,vars:5,consts:[[1,"form-container",3,"formGroup"],["type","text","placeholder","Titre","formControlName","title"],["type","text","placeholder","Description","formControlName","description"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(o,i){o&1&&(d(0,"form",0),h(1,"input",1)(2,"input",2),d(3,"button",3),f("click",function(){return i.onSubmit()}),l(4," Ajouter "),c()()),o&2&&(r("formGroup",i.addTodoForm),s(3),r("ngClass",C(3,z,!i.addTodoForm.invalid))("disabled",i.addTodoForm.invalid))},dependencies:[u,_,j,$,D,B,E,A,G],styles:[".form-container[_ngcontent-%COMP%]{width:max-content;border-radius:8px;margin:2rem auto;display:flex;padding:0;border:none;box-shadow:0 0 #0000001a}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}input[type=text][_ngcontent-%COMP%]{width:auto}.auth-btn[_ngcontent-%COMP%]{width:100%;padding:14px 20px;border-radius:8px}"]});let e=t;return e})();var H=e=>({done:e});function J(e,t){if(e&1){let a=M();d(0,"div",1)(1,"div",2)(2,"input",3),f("click",function(){let o=T(a).$implicit,i=y();return x(i.updateTodo(o))}),c(),d(3,"div",4)(4,"h4",5),l(5),c(),d(6,"h5",6),l(7),c()()(),d(8,"button",7),f("click",function(){let o=T(a).$implicit,i=y();return x(i.deleteTodo(o))}),l(9," Supprimer "),c()()}if(e&2){let a=t.$implicit;s(2),r("checked",a.done),s(),r("ngClass",C(4,H,a.done)),s(2),b(" ",a.title," "),s(2),b(" ",a.description," ")}}var q=(()=>{let t=class t{constructor(){this.ts=g(v),this.users$=this.ts.getUsers(),this.email=localStorage.getItem("email"),this.todos$=this.ts.getTodosByUser(this.email),this.deleteTodo=n=>this.ts.deleteTodo(n),this.getTodosByUser=n=>this.ts.getTodosByUser(n)}updateTodo(n){n.done=!n.done,this.ts.updateTodo(n)}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=p({type:t,selectors:[["app-todo-list"]],standalone:!0,features:[m],decls:2,vars:3,consts:[["class","todo-card-container",4,"ngFor","ngForOf"],[1,"todo-card-container"],[1,"todo-content"],["type","checkbox","name","done",3,"click","checked"],[1,"title-desc",3,"ngClass"],[1,"title"],[1,"description"],[1,"delete-btn",3,"click"]],template:function(o,i){o&1&&(F(0,J,10,6,"div",0),S(1,"async")),o&2&&r("ngForOf",O(1,1,i.todos$))},dependencies:[u,_,P,k],styles:[".todo-card-container[_ngcontent-%COMP%]{width:clamp(80%,5vw,90%);max-width:1200px;margin:1rem auto;display:flex;justify-content:space-between;align-items:center;border-radius:8px;border:1px rgba(40,40,40,.1019607843) solid;padding:1rem}.todo-content[_ngcontent-%COMP%]{display:flex}.title-desc[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:.2rem;font-weight:400}.done[_ngcontent-%COMP%]{text-decoration:line-through}input[_ngcontent-%COMP%]{width:20px;margin-right:1rem}.delete-btn[_ngcontent-%COMP%]{padding:.5rem;border-radius:8px;color:#fff;background:red;border:none}.delete-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]});let e=t;return e})();var lt=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=p({type:t,selectors:[["app-todo"]],standalone:!0,features:[m],decls:3,vars:1,consts:[[3,"isLogoutBtnShown"]],template:function(o,i){o&1&&h(0,"app-toolbar",0)(1,"app-add-todo")(2,"app-todo-list"),o&2&&r("isLogoutBtnShown",!0)},dependencies:[u,N,U,q]});let e=t;return e})();export{lt as default};
