import{a as k,b as E,c as u,d as G,e as R,f as D,g as d,h as L,i as T,j as U,k as V}from"./chunk-YAVEQTXU.js";import{$ as F,D as a,F as i,G as l,H as m,J as v,L as n,P as h,Q as b,V as C,_ as S,c as f,da as w,ea as y,ga as M,ha as N,m as p,o as g,y as c}from"./chunk-3UAJD7XU.js";var _=o=>({"active-btn":o}),W=(()=>{let t=class t{constructor(){this.ts=p(N),this.router=p(w),this.registerForm=new D({email:new d("",[u.required,u.email]),password:new d("",[u.required])})}OnSubmit(){return f(this,null,function*(){let r={email:this.registerForm.value.email,password:this.registerForm.value.password};localStorage.setItem("email",r.email),this.ts.newUser(r).subscribe({next:e=>{console.log("User ajout\xE9 avec succ\xE8s:",r),console.log("Message : ",e.message),console.log("UserId : ",e.userId)}}),this.router.navigateByUrl("/todos")})}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=g({type:t,selectors:[["app-register"]],standalone:!0,features:[h],decls:14,vars:6,consts:[[3,"isLoginBtnShown"],[1,"form-container",3,"formGroup"],[1,"title"],[1,"sub-title"],["routerLink","/login"],["placeholder","Email","type","email","formControlName","email"],["placeholder","Mot de passe","type","password","formControlName","password"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(e,s){e&1&&(m(0,"app-toolbar",0),i(1,"form",1)(2,"h2",2),n(3,"Enregistrez-vous"),l(),i(4,"h3",3),n(5," Veuillez entrer votre email et mot de passe "),m(6,"br"),i(7,"a",4),n(8,"Se connecter"),l()(),m(9,"br")(10,"input",5)(11,"input",6),i(12,"button",7),v("click",function(){return s.OnSubmit()}),n(13," S'inscrire "),l()()),e&2&&(a("isLoginBtnShown",!0),c(),a("formGroup",s.registerForm),c(11),a("ngClass",b(4,_,!s.registerForm.invalid))("disabled",s.registerForm.invalid))},dependencies:[S,C,k,V,L,E,G,R,T,U,M,y,F]});let o=t;return o})();export{W as default};
