import{a as _,b as B,c as p,d as R,e as k,f as I,g as d,h as G,i as T,j as D,k as V}from"./chunk-3Z757QVU.js";import{$ as N,A as l,C as r,D as m,E as c,G as v,H as w,I as n,J as S,M as C,N as F,S as b,U as y,X as E,aa as x,c as f,ca as L,da as M,k as u,m as g,v as s,z as h}from"./chunk-QKPAUTCR.js";var q=e=>({"active-btn":e});function j(e,o){if(e&1&&(r(0,"p"),n(1),m()),e&2){let z=w();s(),S(z.errorMsg)}}var $=(()=>{let o=class o{constructor(){this.showError=!1,this.errorMsg="Email ou mot de passe incorrect, veuillez vous inscrire",this.ts=u(M),this.router=u(N),this.loginForm=new I({email:new d("",[p.required,p.email]),password:new d("",[p.required])})}onSubmit(){return f(this,null,function*(){let a=this.loginForm.value.email,i=this.loginForm.value.password,t=yield this.ts.loggIn(a);t?.email===a&&t.password===i?(localStorage.setItem("email",a),this.router.navigateByUrl("/todos")):this.showError=!0})}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[C],decls:14,vars:9,consts:[[3,"isRegisterBtnShown","isLoginBtnShown","isLogoutBtnShown"],[1,"form-container",3,"formGroup"],[1,"title"],[1,"sub-title"],["routerLink","/register"],["type","email","placeholder","Email","formControlName","email"],["type","password","placeholder","Mot de passe","formControlName","password"],[4,"ngIf"],[1,"auth-btn",3,"click","ngClass","disabled"]],template:function(i,t){i&1&&(c(0,"app-toolbar",0),r(1,"form",1)(2,"h2",2),n(3,"Connectez-vous \xE0 Rikudo"),m(),r(4,"h3",3),n(5," Veuillez entrer votre email "),r(6,"a",4),n(7,"S'inscrire"),m()(),c(8,"br")(9,"input",5)(10,"input",6),h(11,j,2,1,"p",7),r(12,"button",8),v("click",function(){return t.onSubmit()}),n(13," Connexion "),m()()),i&2&&(l("isRegisterBtnShown",!0)("isLoginBtnShown",!1)("isLogoutBtnShown",!1),s(),l("formGroup",t.loginForm),s(10),l("ngIf",t.showError),s(),l("ngClass",F(7,q,!t.loginForm.invalid))("disabled",t.loginForm.invalid))},dependencies:[E,b,y,_,V,G,B,R,k,T,D,L,x]});let e=o;return e})();export{$ as default};
